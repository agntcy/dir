// Copyright AGNTCY Contributors (https://github.com/agntcy)
// SPDX-License-Identifier: Apache-2.0

syntax = "proto3";

package agntcy.dir.naming.v1;

import "agntcy/dir/naming/v1/name_verification.proto";

// NamingService provides methods to inspect name verification state.
// Note: Verification is performed automatically by the backend scheduler
// for signed records with verifiable names (http://, https:// prefixes).
service NamingService {
  // GetVerificationInfo retrieves the verification info for a record.
  rpc GetVerificationInfo(GetVerificationInfoRequest) returns (GetVerificationInfoResponse);
}

// GetVerificationInfoRequest is the request for retrieving verification info.
message GetVerificationInfoRequest {
  // The CID of the record to check.
  string cid = 1;
}

// GetVerificationInfoResponse is the response for retrieving verification info.
message GetVerificationInfoResponse {
  // Whether the record has verified name ownership.
  bool verified = 1;

  // The verification details (only set if verified is true).
  Verification verification = 2;

  // Error message if lookup failed.
  optional string error_message = 3;
}
